price = median(price),
area = median(area))
fit.2 <- lm(log(price) ~ log(area), data = train_final)
summary(fit.2)
shapiro.test(residuals(fit.2))
plot(fit.2)
plot(train_final$price ~ train_final$area)
plot(log(train_final$price) ~ log(train_final$area))
hist(price)
hist(train_final$price)
hist(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1000, nstart = 25)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = median(price),
area = median(area))
hist(log(train_final$price))
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 800, nstart = 25)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = median(price),
area = median(area))
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1200, nstart = 25)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = median(price),
area = median(area))
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1100, nstart = 25)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = median(price),
area = median(area))
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 900, nstart = 25)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = median(price),
area = median(area))
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1000, nstart = 25)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = median(price),
area = median(area))
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1000, nstart = 30)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = median(price),
area = median(area))
shapiro.test(log(train_final$price))
plot(log(train_final$price))
hist(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1100, nstart = 30)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = median(price),
area = median(area))
hist(log(train_final$price))
shapiro.test(log(train_final$price))
fit.2 <- lm(log(price) ~ log(area), data = train_final)
summary(fit.2)
shapiro.test(residuals(fit.2))
hist(log(train_final$area))
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
hist(log(train_final$area))
hist(log(train_final$price))
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1100, nstart = 30)$cluster
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1000, nstart = 30)$cluster
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1000, nstart = 50)$cluster
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1500, nstart = 50)$cluster
shapiro.test(log(train_final$price))
hist(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
summary(train_final$price)
train_final <- train %>%
filter(price <- 320000) %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
train_final <- train %>%
filter(price < 320000) %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
hist(log(train_final$price))
hist(log(train_final$price))
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
hist(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
mutate(train, log_price = log(price))
View(train)
train <- mutate(train, log_price = log(price))
train %>% filter(between(log_price, 13.5, 13.8)) %>% View()
View(train)
train_final <- train %>%
filter(price < 800000) %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
hist(log(train_final$price))
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
ggplot(train_final, aes(log(price))) +
geom_histogram()
train_final <- train %>%
filter(price < 800000) %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
ggplot(train_final, aes(log(price))) +
geom_histogram()
filter(between(log_price, 10.8, 13.5) %>%
train_final <- train %>%
filter(between(log_price, 10.8, 13.5)) %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
hist(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
shapiro.test(log(train_final$price))
hist(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
train_final <- train %>%
filter(between(log_price, 10.8, 13.6)) %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
ggplot(train_final, aes(log(price))) +
geom_histogram()
hist(log(train_final$price))
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1400, nstart = 50)$cluster
train_final <- train %>%
filter(between(log_price, 10.8, 13.6)) %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
ggplot(train_final, aes(log(price))) +
geom_histogram()
round(120, 2)
round(120, 1)
round(120, -1)
round(120, -2)
train.scaled <- train %>%
select(parking, bedrooms, location2, price, round(area, -1)) %>%
scale
train$cluster <- kmeans(as.matrix(train.scaled), 1400, nstart = 50)$cluster
train.scaled <- train %>%
mutate(area = round(area, -1)) %>%
select(parking, bedrooms, location2, price, area) %>%
scale
train$cluster <- kmeans(as.matrix(train.scaled), 1400, nstart = 50)$cluster
train_final <- train %>%
filter(between(log_price, 10.8, 13.6)) %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
hist(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
shapiro.test(log(train_final$price))
train.scaled <- train %>%
mutate(area = round(area, -2)) %>%
select(parking, bedrooms, location2, price, area) %>%
scale
train$cluster <- kmeans(as.matrix(train.scaled), 1400, nstart = 50)$cluster
train_final <- train %>%
filter(between(log_price, 10.8, 13.6)) %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
ggplot(train_final, aes(log(price))) +
geom_histogram()
shapiro.test(log(train_final$price))
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
ggplot(train_final, aes(log(price))) +
geom_histogram()
shapiro.test(log(train_final$price))
train.scaled <- train %>%
mutate(area = round(area, -2)) %>%
select(bedrooms, location2, price, area) %>%
scale
train$cluster <- kmeans(as.matrix(train.scaled), 1400, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
ggplot(train_final, aes(log(price))) +
geom_histogram()
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 1200, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
ggplot(train_final, aes(log(price))) +
geom_histogram()
shapiro.test(log(train_final$price))
train$cluster <- kmeans(as.matrix(train.scaled), 900, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
hist(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
train.scaled <- train %>%
mutate(area = round(area, -2)) %>%
select(bedrooms, location2, price, area) %>%
scale
train$cluster <- kmeans(as.matrix(train.scaled), 800, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
train$cluster <- kmeans(as.matrix(train.scaled), 900, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
train$cluster <- kmeans(as.matrix(train.scaled), 500, nstart = 50)$cluster
train$cluster <- kmeans(as.matrix(train.scaled), 500, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
train$cluster <- kmeans(as.matrix(train.scaled), 600, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
train$cluster <- kmeans(as.matrix(train.scaled), 600, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
train$cluster <- kmeans(as.matrix(train.scaled), 700, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
train$cluster <- kmeans(as.matrix(train.scaled), 600, nstart = 50)$cluster
train$cluster <- kmeans(as.matrix(train.scaled), 600, nstart = 50)$cluster
train.scaled <- train %>%
#mutate(area = round(area, -2)) %>%
select(bedrooms, location2, price, area) %>%
scale
train$cluster <- kmeans(as.matrix(train.scaled), 600, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
train$cluster <- kmeans(as.matrix(train.scaled), 500, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
ggplot(train_final, aes(log(price))) +
geom_histogram()
fit.2 <- lm(log(price) ~ log(area), data + train_final)
summary(fit.2)
shapiro.test(residuals(fit.2))
shapiro.test(log(train_final$area))
shapiro.test(log(train_final$price))
fit.2 <- lm(log(price) ~ log(area) + location, data + train_final)
fit.2 <- lm(log(price) ~ log(area) + parking + bedrooms, data + train_final)
fit.2 <- lm(log(price) ~ log(area) + parking + bedrooms, data = train_final)
summary(fit.2)
shapiro.test(residuals(fit.2))
fit.2 <- lm(log(price) ~ log(area), data = train_final)
summary(fit.2)
shapiro.test(residuals(fit.2))
plot(fit.2)
ggplot(train_final, aes(log(area))) +
geom_histogram()
ggplot(train_final, aes(log(price))) +
geom_histogram()
train.scaled <- train %>%
mutate(area = round(area, -1)) %>%
select(bedrooms, location2, price, area) %>%
scale
train$cluster <- kmeans(as.matrix(train.scaled), 500, nstart = 50)$cluster
train_final <- train %>%
group_by(cluster) %>%
summarise(parking = median(parking),
bathrooms = median(bathrooms),
bedrooms = median(bedrooms),
price = mean(price),
area = mean(area))
shapiro.test(log(train_final$price))
shapiro.test(log(train_final$area))
ggplot(train_final, aes(log(price))) +
geom_histogram()
ggplot(train_final, aes(log(area))) +
geom_histogram()
fit.2 <- lm(log(price) ~ log(area), data = train_final)
summary(fit.2)
shapiro.test(residuals(fit.2))
shapiro.test(log(train_final$price))
View(train)
training <- read_csv("../../1_Data Cleaning/1_data/training_set.csv") %>%
select(id, parking, bathrooms, bedrooms, location, status, price, area) %>%
filter(complete.cases(.),
location %in% c("Bella Vista Sur", "Bella Vista", "Bella Vista Norte"))
training
hist(training$price)
ggplot(training, aes(price)) + geom_histogram()
shapiro.test(log(training$price))
shapiro.test(log(training[training$status == "New", 'price']))
shapiro.test(log(training[training$status == "New", "price"]))
training[training$status == "New", "price"]
training[training$status == "New",]$price
hist(log(training[training$status == "New",]$price))
shapiro.test(log(training[training$status == "New",]$price))
summary(training$price)
ggplot(training, aes(price)) + geom_histogram()
ggplot(training, aes(log(price))) + geom_histogram()
setwd("c:/Users/Augus/OneDrive/Desktop")
setwd("c:/Users/Augus/OneDrive/Desktop/")
library(readr)
Bella_Vista <- read_csv("C:/Users/Augus/OneDrive/Escritorio/Bella Vista.csv")
View(Bella_Vista)
library(readr)
library(tidyverse)
bella <- Bella_Vista %>%
group_by(...27) %>%
summarise(price = mean(price.usd))
ggplot(bella, aes(price)) + geom_histogram()
ggplot(bella, aes(log(price))) + geom_histogram()
shapiro.test(log(bella$price))
options(scipen = 999)
shapiro.test(log(bella$price))
shapiro.test(bella$price)
summary(bella$price)
bella <- filter(bella, price > 70000)
bella
ggplot(bella, aes(log(price))) + geom_histogram()
shapiro.test(bella$price)
qqplot(bella$price)
View(bella)
bella <- filter(bella, `...27` <= 71)
ggplot(bella, aes(log(price))) + geom_histogram()
shapiro.test(bella$price)
shapiro.test(log(Bella_Vista$price.usd))
summary(Bella_Vista$price.usd)
bella$new = rnorm(nrow(bella), mean = 267950)
shapiro.test(bella$new)
summary(log(Bella_Vista$price.usd))
bella$new = rnorm(nrow(bella), mean = 12.5)
shapiro.test(bella$new)
sd(Bella_Vista$price.usd)
sd(log(Bella_Vista$price.usd))
log(sd(Bella_Vista$price.usd))
bella$new = rnorm(nrow(bella), mean = 12.5, sd = 0.8271094)
shapiro.test(bella$new)
Bella_Vista <- filter(Bella_Vista, price.usd > 70000)
Bella_Vista
Bella_Vista %>% filter(price.usd <= 228000) %>% summarise(price.usd = mean(price.usd))
Bella_Vista %>% filter(price.usd <= 228000) %>% group_by(`...27`) %>% summarise(price = mean(price.usd))
Bella_Vista %>% filter(price.usd <= 228000) %>% group_by(`...27`) %>% summarise(price = mean(price.usd)) %>% ungroup() %>% summarise(price = mean(price))
ggplot(Bella_Vista, aes(price.usd))
ggplot(Bella_Vista, aes(price.usd)) + geom_histogram()
ggplot(Bella_Vista, aes(log(price.usd))) + geom_histogram()
bella <- Bella_Vista %>%
group_by(`...27`) %>%
summarise(price.usd = median(price.usd))
ggplot(bella, aes(log(price.usd))) + geom_histogram()
log(228000)
